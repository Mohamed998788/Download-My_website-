<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="محرك ذكي لتوليد إعدادات الحساسية المثالية للألعاب - Free Fire, PUBG Mobile, Call of Duty Mobile">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>RED SETTINGS v3.0 - Professional Gaming Settings</title>
    
    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Engine -->
    <script type="module" src="src/bridge.js"></script>
</head>
<body>
    <!-- Top Action Buttons -->
    <div class="get-app-button" onclick="alert('قريباً - التطبيق قيد التطوير')">
        <i class="fas fa-download"></i>
    </div>
    
    <div class="translation-button" onclick="alert('قريباً - خدمة الترجمة')">
        <i class="fas fa-language"></i>
    </div>

    <!-- Hero Section -->
    <div class="container" style="text-align: center; padding-top: 80px; padding-bottom: 50px;">
        <div style="display: inline-block; padding: 10px 24px; background: rgba(255,255,255,0.08); border-radius: 25px; margin-bottom: 25px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px);">
            <span style="font-size: 13px; font-weight: 600; letter-spacing: 1.5px; text-transform: uppercase; color: rgba(255,255,255,0.9);">v3.0 Professional Edition</span>
        </div>
        <h1 style="font-size: clamp(2.5rem, 7vw, 4.5rem); margin-bottom: 25px; font-weight: 800; line-height: 1.1;">RED SETTINGS</h1>
        <p style="font-size: clamp(1rem, 2.5vw, 1.3rem); color: rgba(255,255,255,0.6); max-width: 700px; margin: 0 auto 40px; line-height: 1.7; font-weight: 400;">
            محرك ذكي لتوليد إعدادات الحساسية المثالية<br>
            <span style="font-size: 0.85em; color: rgba(255,255,255,0.5);">Free Fire • PUBG Mobile • Call of Duty Mobile</span>
        </p>
    </div>

    <!-- Main Content -->
    <div class="container">
        <!-- Free Fire Section -->
        <div id="page-freefire" class="page-section active">
            <!-- Game Header -->
            <div style="text-align: center; margin-bottom: 50px;">
                <div style="display: inline-flex; align-items: center; gap: 15px; padding: 20px 40px; background: rgba(255,255,255,0.05); border-radius: 25px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px);">
                    <i class="fas fa-fire" style="font-size: 32px; color: #ff6b35;"></i>
                    <h2 style="margin: 0; font-size: 2rem; font-weight: 700;">Free Fire</h2>
                </div>
            </div>

            <!-- Settings Card -->
            <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 28px; padding: 40px; margin-bottom: 40px; backdrop-filter: blur(15px);">
                
                <!-- Section Header -->
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 35px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                    <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.08); border-radius: 14px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-sliders-h" style="font-size: 20px;"></i>
                    </div>
                    <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700;">إعدادات الحساسية</h3>
                </div>

                <!-- Play Style Selection -->
                <div style="margin-bottom: 40px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 25px;">
                        <i class="fas fa-gamepad" style="font-size: 22px; color: rgba(255,255,255,0.5);"></i>
                        <label style="margin: 0; color: rgba(255,255,255,0.9); font-weight: 600; font-size: 1.15rem;">أسلوب اللعب</label>
                    </div>
                    <div class="speed-options">
                        <input type="radio" id="ff-slow" name="ff-speed" value="slow">
                        <label for="ff-slow">
                            <i class="fas fa-user-ninja"></i>
                            <span>بطيء</span>
                            <small>دقة عالية</small>
                        </label>
                        
                        <input type="radio" id="ff-medium" name="ff-speed" value="medium" checked>
                        <label for="ff-medium">
                            <i class="fas fa-walking"></i>
                            <span>متوسط</span>
                            <small>متوازن</small>
                        </label>
                        
                        <input type="radio" id="ff-fast" name="ff-speed" value="fast">
                        <label for="ff-fast">
                            <i class="fas fa-running"></i>
                            <span>سريع</span>
                            <small>استجابة فورية</small>
                        </label>
                        
                        <input type="radio" id="ff-proSniper" name="ff-speed" value="proSniper">
                        <label for="ff-proSniper">
                            <i class="fas fa-bullseye"></i>
                            <span>قناص</span>
                            <small>دقة قصوى</small>
                        </label>
                        
                        <input type="radio" id="ff-aggressive" name="ff-speed" value="aggressive">
                        <label for="ff-aggressive">
                            <i class="fas fa-fire"></i>
                            <span>عدواني</span>
                            <small>هجوم سريع</small>
                        </label>
                        
                        <input type="radio" id="ff-tactical" name="ff-speed" value="tactical">
                        <label for="ff-tactical">
                            <i class="fas fa-chess"></i>
                            <span>تكتيكي</span>
                            <small>تخطيط محكم</small>
                        </label>
                    </div>
                </div>

                <!-- Fire Button Size -->
                <div style="margin-bottom: 40px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 25px;">
                        <i class="fas fa-hand-pointer" style="font-size: 22px; color: rgba(255,255,255,0.5);"></i>
                        <label style="margin: 0; color: rgba(255,255,255,0.9); font-weight: 600; font-size: 1.15rem;">حجم زر الضرب</label>
                    </div>
                    <div class="fire-button-size-options">
                        <input type="radio" id="ff-fire-small" name="ff-fire" value="small">
                        <label for="ff-fire-small">
                            <i class="fas fa-square" style="font-size: 2rem;"></i>
                            <span>صغير</span>
                            <small>18-38</small>
                        </label>
                        
                        <input type="radio" id="ff-fire-medium" name="ff-fire" value="medium" checked>
                        <label for="ff-fire-medium">
                            <i class="fas fa-square" style="font-size: 2.5rem;"></i>
                            <span>متوسط</span>
                            <small>42-72</small>
                        </label>
                        
                        <input type="radio" id="ff-fire-large" name="ff-fire" value="large">
                        <label for="ff-fire-large">
                            <i class="fas fa-square" style="font-size: 3rem;"></i>
                            <span>كبير</span>
                            <small>76-98</small>
                        </label>
                    </div>
                </div>

                <!-- Generate Button -->
                <button onclick="generateFreeFireSensitivity()" style="width: 100%;">
                    <i class="fas fa-magic"></i>
                    توليد الحساسية الآن
                </button>
            </div>

            <!-- Results Section -->
            <div id="ff-sensitivity-results"></div>

            <!-- Graphics Settings -->
            <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 28px; padding: 40px; margin-top: 40px; backdrop-filter: blur(15px);">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 35px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                    <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.08); border-radius: 14px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-desktop" style="font-size: 20px;"></i>
                    </div>
                    <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700;">إعدادات الجرافيك</h3>
                </div>

                <p style="color: rgba(255,255,255,0.6); margin-bottom: 25px; line-height: 1.6;">
                    احصل على أفضل إعدادات الجرافيك بناءً على مواصفات جهازك
                </p>

                <button onclick="generateGraphics('freefire')" style="width: 100%;">
                    <i class="fas fa-cog"></i>
                    توليد إعدادات الجرافيك
                </button>

                <div id="ff-graphics-results"></div>
            </div>
        </div>

        <!-- PUBG Mobile Section -->
        <div id="page-pubg" class="page-section" style="display: none;">
            <!-- Game Header -->
            <div style="text-align: center; margin-bottom: 50px;">
                <div style="display: inline-flex; align-items: center; gap: 15px; padding: 20px 40px; background: rgba(255,255,255,0.05); border-radius: 25px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px);">
                    <i class="fas fa-crosshairs" style="font-size: 32px; color: #ff9500;"></i>
                    <h2 style="margin: 0; font-size: 2rem; font-weight: 700;">PUBG Mobile</h2>
                </div>
            </div>

            <!-- Settings Card -->
            <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 28px; padding: 40px; margin-bottom: 40px; backdrop-filter: blur(15px);">
                
                <!-- Section Header -->
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 35px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                    <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.08); border-radius: 14px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-sliders-h" style="font-size: 20px;"></i>
                    </div>
                    <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700;">إعدادات الحساسية</h3>
                </div>

                <!-- Play Style -->
                <div style="margin-bottom: 40px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 25px;">
                        <i class="fas fa-gamepad" style="font-size: 22px; color: rgba(255,255,255,0.5);"></i>
                        <label style="margin: 0; color: rgba(255,255,255,0.9); font-weight: 600; font-size: 1.15rem;">أسلوب اللعب</label>
                    </div>
                    <div class="speed-options">
                        <input type="radio" id="pubg-slow" name="pubg-speed" value="slow">
                        <label for="pubg-slow">
                            <i class="fas fa-user-ninja"></i>
                            <span>بطيء</span>
                            <small>دقة عالية</small>
                        </label>
                        
                        <input type="radio" id="pubg-medium" name="pubg-speed" value="medium" checked>
                        <label for="pubg-medium">
                            <i class="fas fa-walking"></i>
                            <span>متوسط</span>
                            <small>متوازن</small>
                        </label>
                        
                        <input type="radio" id="pubg-fast" name="pubg-speed" value="fast">
                        <label for="pubg-fast">
                            <i class="fas fa-running"></i>
                            <span>سريع</span>
                            <small>استجابة فورية</small>
                        </label>
                    </div>
                </div>

                <!-- Gyroscope Mode -->
                <div style="margin-bottom: 40px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 25px;">
                        <i class="fas fa-mobile-alt" style="font-size: 22px; color: rgba(255,255,255,0.5);"></i>
                        <label style="margin: 0; color: rgba(255,255,255,0.9); font-weight: 600; font-size: 1.15rem;">وضع الجيروسكوب</label>
                    </div>
                    <div class="fire-button-size-options">
                        <input type="radio" id="pubg-gyro-off" name="pubg-gyro" value="off">
                        <label for="pubg-gyro-off">
                            <i class="fas fa-times-circle"></i>
                            <span>معطل</span>
                            <small>بدون جيرو</small>
                        </label>
                        
                        <input type="radio" id="pubg-gyro-scope" name="pubg-gyro" value="scope" checked>
                        <label for="pubg-gyro-scope">
                            <i class="fas fa-dot-circle"></i>
                            <span>السكوب فقط</span>
                            <small>موصى به</small>
                        </label>
                        
                        <input type="radio" id="pubg-gyro-full" name="pubg-gyro" value="full">
                        <label for="pubg-gyro-full">
                            <i class="fas fa-check-circle"></i>
                            <span>دائماً</span>
                            <small>كامل</small>
                        </label>
                    </div>
                </div>

                <!-- Generate Button -->
                <button onclick="generatePUBGSensitivity()" style="width: 100%;">
                    <i class="fas fa-magic"></i>
                    توليد الحساسية الآن
                </button>
            </div>

            <!-- Results Section -->
            <div id="pubg-sensitivity-results"></div>

            <!-- Graphics Settings -->
            <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 28px; padding: 40px; margin-top: 40px; backdrop-filter: blur(15px);">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 35px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                    <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.08); border-radius: 14px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-desktop" style="font-size: 20px;"></i>
                    </div>
                    <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700;">إعدادات الجرافيك</h3>
                </div>

                <p style="color: rgba(255,255,255,0.6); margin-bottom: 25px; line-height: 1.6;">
                    احصل على أفضل إعدادات الجرافيك بناءً على مواصفات جهازك
                </p>

                <button onclick="generateGraphics('pubg')" style="width: 100%;">
                    <i class="fas fa-cog"></i>
                    توليد إعدادات الجرافيك
                </button>

                <div id="pubg-graphics-results"></div>
            </div>
        </div>

        <!-- Call of Duty Mobile Section -->
        <div id="page-cod" class="page-section" style="display: none;">
            <!-- Game Header -->
            <div style="text-align: center; margin-bottom: 50px;">
                <div style="display: inline-flex; align-items: center; gap: 15px; padding: 20px 40px; background: rgba(255,255,255,0.05); border-radius: 25px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px);">
                    <i class="fas fa-skull-crossbones" style="font-size: 32px; color: #00ff88;"></i>
                    <h2 style="margin: 0; font-size: 2rem; font-weight: 700;">Call of Duty Mobile</h2>
                </div>
            </div>

            <!-- Settings Card -->
            <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 28px; padding: 40px; margin-bottom: 40px; backdrop-filter: blur(15px);">
                
                <!-- Section Header -->
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 35px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                    <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.08); border-radius: 14px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-sliders-h" style="font-size: 20px;"></i>
                    </div>
                    <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700;">إعدادات الحساسية</h3>
                </div>

                <!-- Rotation Mode -->
                <div style="margin-bottom: 40px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 25px;">
                        <i class="fas fa-sync-alt" style="font-size: 22px; color: rgba(255,255,255,0.5);"></i>
                        <label style="margin: 0; color: rgba(255,255,255,0.9); font-weight: 600; font-size: 1.15rem;">وضع التدوير</label>
                    </div>
                    <div class="fire-button-size-options">
                        <input type="radio" id="cod-rotation-fixed" name="cod-rotation" value="fixed">
                        <label for="cod-rotation-fixed">
                            <i class="fas fa-lock"></i>
                            <span>ثابت</span>
                            <small>Fixed</small>
                        </label>
                        
                        <input type="radio" id="cod-rotation-distance" name="cod-rotation" value="distance" checked>
                        <label for="cod-rotation-distance">
                            <i class="fas fa-arrows-alt-h"></i>
                            <span>المسافة</span>
                            <small>Distance</small>
                        </label>
                        
                        <input type="radio" id="cod-rotation-speed" name="cod-rotation" value="speed">
                        <label for="cod-rotation-speed">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>السرعة</span>
                            <small>Speed</small>
                        </label>
                    </div>
                </div>

                <!-- Play Style -->
                <div style="margin-bottom: 40px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 25px;">
                        <i class="fas fa-gamepad" style="font-size: 22px; color: rgba(255,255,255,0.5);"></i>
                        <label style="margin: 0; color: rgba(255,255,255,0.9); font-weight: 600; font-size: 1.15rem;">أسلوب اللعب</label>
                    </div>
                    <div class="fire-button-size-options">
                        <input type="radio" id="cod-style-standard" name="cod-style" value="standard" checked>
                        <label for="cod-style-standard">
                            <i class="fas fa-user"></i>
                            <span>قياسي</span>
                            <small>Standard</small>
                        </label>
                        
                        <input type="radio" id="cod-style-sniper" name="cod-style" value="sniper">
                        <label for="cod-style-sniper">
                            <i class="fas fa-bullseye"></i>
                            <span>قناص</span>
                            <small>Sniper</small>
                        </label>
                        
                        <input type="radio" id="cod-style-aggressive" name="cod-style" value="aggressive">
                        <label for="cod-style-aggressive">
                            <i class="fas fa-fire"></i>
                            <span>عدواني</span>
                            <small>Aggressive</small>
                        </label>
                    </div>
                </div>

                <!-- Gyroscope -->
                <div style="margin-bottom: 40px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 25px;">
                        <i class="fas fa-mobile-alt" style="font-size: 22px; color: rgba(255,255,255,0.5);"></i>
                        <label style="margin: 0; color: rgba(255,255,255,0.9); font-weight: 600; font-size: 1.15rem;">الجيروسكوب</label>
                    </div>
                    <div class="fire-button-size-options">
                        <input type="radio" id="cod-gyro-off" name="cod-gyro" value="off">
                        <label for="cod-gyro-off">
                            <i class="fas fa-times-circle"></i>
                            <span>معطل</span>
                            <small>Off</small>
                        </label>
                        
                        <input type="radio" id="cod-gyro-on" name="cod-gyro" value="on" checked>
                        <label for="cod-gyro-on">
                            <i class="fas fa-check-circle"></i>
                            <span>مفعل</span>
                            <small>On</small>
                        </label>
                        
                        <input type="radio" id="cod-gyro-full" name="cod-gyro" value="full">
                        <label for="cod-gyro-full">
                            <i class="fas fa-circle"></i>
                            <span>كامل</span>
                            <small>Full</small>
                        </label>
                    </div>
                </div>

                <!-- Generate Button -->
                <button onclick="generateCODSensitivity()" style="width: 100%;">
                    <i class="fas fa-magic"></i>
                    توليد الحساسية الآن
                </button>
            </div>

            <!-- Results Section -->
            <div id="cod-sensitivity-results"></div>

            <!-- Graphics Settings -->
            <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 28px; padding: 40px; margin-top: 40px; backdrop-filter: blur(15px);">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 35px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                    <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.08); border-radius: 14px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-desktop" style="font-size: 20px;"></i>
                    </div>
                    <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700;">إعدادات الجرافيك</h3>
                </div>

                <p style="color: rgba(255,255,255,0.6); margin-bottom: 25px; line-height: 1.6;">
                    احصل على أفضل إعدادات الجرافيك بناءً على مواصفات جهازك
                </p>

                <button onclick="generateGraphics('cod')" style="width: 100%;">
                    <i class="fas fa-cog"></i>
                    توليد إعدادات الجرافيك
                </button>

                <div id="cod-graphics-results"></div>
            </div>
        </div>

        <!-- Saved Settings Section -->
        <div id="page-saved" class="page-section" style="display: none;">
            <div style="text-align: center; margin-bottom: 50px;">
                <div style="display: inline-flex; align-items: center; gap: 15px; padding: 20px 40px; background: rgba(255,255,255,0.05); border-radius: 25px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px);">
                    <i class="fas fa-save" style="font-size: 32px; color: #ffd700;"></i>
                    <h2 style="margin: 0; font-size: 2rem; font-weight: 700;">الإعدادات المحفوظة</h2>
                </div>
            </div>

            <div id="saved-settings-list">
                <div style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 28px; padding: 60px 40px; text-align: center; backdrop-filter: blur(15px);">
                    <i class="fas fa-folder-open" style="font-size: 80px; color: rgba(255,255,255,0.2); margin-bottom: 30px;"></i>
                    <h3 style="font-size: 1.8rem; margin-bottom: 20px; font-weight: 700;">لا توجد إعدادات محفوظة</h3>
                    <p style="color: rgba(255,255,255,0.6); font-size: 1.1rem; max-width: 500px; margin: 0 auto;">
                        قم بتوليد وحفظ إعداداتك المفضلة لتظهر هنا
                    </p>
                </div>
            </div>
        </div>

    </div>

    <!-- Floating Navigation -->
    <nav class="navbar">
        <a href="#" class="active" onclick="navigateTo('page-freefire'); return false;" data-page="freefire">
            <i class="fas fa-fire"></i>
            <span>Free Fire</span>
        </a>
        <a href="#" onclick="navigateTo('page-pubg'); return false;" data-page="pubg">
            <i class="fas fa-crosshairs"></i>
            <span>PUBG</span>
        </a>
        <a href="#" onclick="navigateTo('page-cod'); return false;" data-page="cod">
            <i class="fas fa-skull-crossbones"></i>
            <span>COD</span>
        </a>
        <a href="#" onclick="navigateTo('page-saved'); return false;" data-page="saved">
            <i class="fas fa-save"></i>
            <span>محفوظة</span>
        </a>
    </nav>

    <!-- Toast Notification -->
    <div id="toast" style="position: fixed; bottom: 120px; left: 50%; transform: translateX(-50%); background: rgba(255,255,255,0.95); color: #000; padding: 15px 30px; border-radius: 15px; font-weight: 600; opacity: 0; transition: opacity 0.3s; pointer-events: none; z-index: 10000; box-shadow: 0 10px 40px rgba(0,0,0,0.3);"></div>

    <script>
        // Navigation
        function navigateTo(pageId) {
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(page => {
                page.style.display = 'none';
            });
            
            // Show selected page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.style.display = 'block';
            }
            
            // Update nav active state
            document.querySelectorAll('.navbar a').forEach(link => {
                link.classList.remove('active');
            });
            
            // Find and activate the correct nav link
            const targetLink = document.querySelector(`.navbar a[data-page="${pageId.replace('page-', '')}"]`);
            if (targetLink) {
                targetLink.classList.add('active');
            }
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.opacity = '1';
            setTimeout(() => {
                toast.style.opacity = '0';
            }, 3000);
        }

        // Generate Functions (will be overridden by bridge.js)
        window.generateFreeFireSensitivity = window.generateFreeFireSensitivity || function() {
            showToast('جاري التحميل...');
        };

        window.generatePUBGSensitivity = window.generatePUBGSensitivity || function() {
            showToast('جاري التحميل...');
        };

        window.generateCODSensitivity = window.generateCODSensitivity || function() {
            showToast('جاري التحميل...');
        };

        // Graphics Generation using Engine
        window.generateGraphics = async function(game) {
            if (!window.graphicsEngine) {
                showToast('المحرك غير محمل بعد...');
                return;
            }

            showToast('جاري التحليل...');

            // Wait for engine to initialize if needed
            if (!window.graphicsEngine.initialized) {
                await window.graphicsEngine.initialize();
            }

            let settings;
            const gameNames = {
                'freefire': 'Free Fire',
                'pubg': 'PUBG Mobile',
                'cod': 'Call of Duty Mobile'
            };
            
            const gameIds = {
                'freefire': 'ff',
                'pubg': 'pubg',
                'cod': 'cod'
            };

            // Generate settings based on game
            switch(game) {
                case 'freefire':
                    settings = window.graphicsEngine.generateFreeFireSettings();
                    break;
                case 'pubg':
                    settings = window.graphicsEngine.generatePUBGSettings();
                    break;
                case 'cod':
                    settings = window.graphicsEngine.generateCODSettings();
                    break;
                default:
                    showToast('لعبة غير معروفة');
                    return;
            }

            // Build HTML
            let html = `
                <div style="margin-top: 30px; padding: 30px; background: rgba(255,255,255,0.05); border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); animation: fadeInUp 0.6s ease-out;">
                    <h4 style="margin-bottom: 25px; font-size: 1.3rem; font-weight: 700; display: flex; align-items: center; gap: 12px;">
                        <i class="fas fa-check-circle" style="color: #00ff88;"></i> 
                        إعدادات ${gameNames[game]}
                    </h4>
                    <div class="graphics-result">
            `;

            // Display all settings
            for (const [key, value] of Object.entries(settings)) {
                if (key === 'recommendations' || key === 'deviceInfo') continue;
                
                const label = key.replace(/([A-Z])/g, ' $1').trim();
                html += `<div><span>${label}</span><span>${value}</span></div>`;
            }

            html += `</div>`;

            // Device Info
            if (settings.deviceInfo) {
                html += `
                    <div style="margin-top: 25px; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 15px; border-right: 3px solid rgba(255,255,255,0.3);">
                        <h5 style="margin-bottom: 15px; font-size: 1rem; font-weight: 600; color: rgba(255,255,255,0.9); display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-info-circle"></i> معلومات الجهاز
                        </h5>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; font-size: 0.9rem;">
                            <div style="color: rgba(255,255,255,0.7);">
                                <strong style="color: rgba(255,255,255,0.9);">النوع:</strong> ${settings.deviceInfo.type}
                            </div>
                            <div style="color: rgba(255,255,255,0.7);">
                                <strong style="color: rgba(255,255,255,0.9);">الذاكرة:</strong> ${settings.deviceInfo.ram}
                            </div>
                            <div style="color: rgba(255,255,255,0.7);">
                                <strong style="color: rgba(255,255,255,0.9);">المعالج:</strong> ${settings.deviceInfo.cpu}
                            </div>
                            <div style="color: rgba(255,255,255,0.7);">
                                <strong style="color: rgba(255,255,255,0.9);">GPU:</strong> ${settings.deviceInfo.gpu}
                            </div>
                            <div style="color: rgba(255,255,255,0.7);">
                                <strong style="color: rgba(255,255,255,0.9);">الدقة:</strong> ${settings.deviceInfo.resolution}
                            </div>
                            <div style="color: rgba(255,255,255,0.7);">
                                <strong style="color: rgba(255,255,255,0.9);">المستوى:</strong> ${settings.deviceInfo.tier}
                            </div>
                            <div style="color: rgba(255,255,255,0.7);">
                                <strong style="color: rgba(255,255,255,0.9);">نقاط الأداء:</strong> ${settings.deviceInfo.performanceScore}/100
                            </div>
                        </div>
                    </div>
                `;
            }

            // Recommendations
            if (settings.recommendations && settings.recommendations.length > 0) {
                html += `
                    <div style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 15px; border-right: 3px solid rgba(255,215,0,0.5);">
                        <h5 style="margin-bottom: 15px; font-size: 1rem; font-weight: 600; color: rgba(255,255,255,0.9); display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-lightbulb"></i> نصائح للتحسين
                        </h5>
                        <ul style="margin: 0; padding-right: 20px; color: rgba(255,255,255,0.7); line-height: 1.8;">
                            ${settings.recommendations.map(tip => `<li>${tip}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }

            html += `</div>`;

            const resultId = gameIds[game] + '-graphics-results';
            const resultElement = document.getElementById(resultId);
            
            if (!resultElement) {
                console.error('❌ عنصر النتائج غير موجود:', resultId);
                showToast('خطأ في عرض النتائج');
                return;
            }
            
            resultElement.innerHTML = html;
            showToast('تم توليد إعدادات الجرافيك! ✅');
        };
    </script>
</body>
</html>
